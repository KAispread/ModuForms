<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>설문 템플릿</title>

  <!-- 공통 view port | bootstrap.css -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <link href="/css/bootstrap_base.css" rel="stylesheet">
  <link href="/css/form-validation.css" rel="stylesheet">
  <meta>
</head>

<body class="bg-light">
<header>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container">
      <a th:href="@{/${session.userNickName}}" class="navbar-brand d-flex align-items-center">
        <strong>ModuForm</strong>
      </a>
      <a th:href="@{/users/${session.userNickName}}">
        <strong id="user_detail" th:text="${session.userName}"></strong>
      </a>
    </div>
  </div>
</header>
<input id="userNickName" type="hidden" th:value="${session.userNickName}">
<div class="container">
  <main class="form-regist">
    <div class="py-5 text-center">
      <h1 id="logo_icon">설문 등록</h1>
    </div>

    <div class="col-md-10 container-md">
      <form class="needs-validation">
        <div class="row g-3">
          <div class="col-12">
            <label for="survey_title" class="form-label">제목</label>
            <input type="text" class="form-control" id="survey_title" placeholder="설문의 제목을 입력해주세요"
                   th:value="${surveyCheck.title}" disabled
                   required>
          </div>
          <div class="input-group">
            <span class="input-group-text">설명</span>
            <textarea class="form-control" id="survey_description" aria-label="With textarea"
                      th:value="${surveyCheck.description}" disabled
                      required></textarea>
          </div>
          <div class="col-12">
            <label for="survey_email" class="form-label">관리자 이메일</label>
            <input type="text" class="form-control" id="survey_email" placeholder="유효한 이메일 주소를 입력하세요."
                   th:value="${surveyCheck.email}" disabled>
          </div>

          <label class="form-label">마감 날짜</label>
          <div class="input-group mb-3">
            <input type="date" class="form-control" id="date" required disabled th:value="${#temporals.format(surveyCheck.deadLine, 'yyyy-MM-dd')}">
            <span class="input-group-text">&</span>
            <input type="time" class="form-control" id="time" required disabled th:value="${#temporals.format(surveyCheck.deadLine, 'HH:mm')}">
          </div>


          <div class="col-12">
            <label class="form-label" for="survey_max">최대 응답 개수 <span class="text-muted">(선택)</span></label>
            <input type="text" class="form-control" id="survey_max" disabled th:value="${surveyCheck.maximumAnswer}"
                   value="">
          </div>
          <hr class="my-4">

          <h4 class="md-3">질문 등록</h4>

          <div class="col-12" th:each="question : ${surveyCheck.surveyQuestionList}">
            <label class="form-label" th:text="|질문 ${questionStat.count}|"></label>
            <select class="form-select form-select-sm" name="question_type" id="type1" aria-label=".form-select-sm example">
              <option selected th:if="${question.questionType == 'SHORT'}" value="단답형"></option>
              <option selected th:if="${question.questionType == 'MULTIPLE'}" value="객관식"></option>
            </select>
            <input type="text" class="form-control" name="question" disabled th:value="${question.question}" />

          </div>

          <hr class="my-4">

          <div style="width: 99%;" class="btn-group" role="group" aria-label="Basic mixed styles example">
            <button type="button" class="btn btn-success btn-lg">수정하기</button>
            <button type="button" class="btn btn-primary btn-lg">돌아가기</button>
          </div>
        </div>
      </form>
    </div>
  </main>
</div>

<footer class="my-5 pt-5 text-muted text-center text-small">
  <p class="mb-1">&copy; 2022~ Modu Form</p>
</footer>

<script src="https://code.jquery.com/jquery-latest.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script src="/js/survey.js"></script>
</body>

</html>